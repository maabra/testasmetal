<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galerija - AS Metal</title>
    <link rel="icon" type="image/png" href="images\logo\asmetal_logo_w.png">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <header>
        <div class="logo-container">
          <a href="index.html">
            <img src="images/logo/asmetal_logo_text_w.png" alt="AS Metal Logotip" class="logo logo-desktop" />
            <img src="images/logo/asmetal_logo_w.png" alt="AS Metal Logo Small" class="logo logo-mobile" />
          </a>
        </div>
        <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <nav>
            <ul>
                <li><a href="index.html">Početna</a></li>
                <li><a href="about.html">O&nbsp;Nama</a></li>
                <li><a href="services.html">Usluge</a></li>
                <li><a href="contact.html">Kontakt</a></li>
            </ul>
        </nav>
    </header>
    
    <main>
        <h2>Galerija</h2>
        <div class="gallery-container">
            <img id="rotatingImage" class="rotating-image" src="images/galerija/slika1.jpg" alt="Galerija Slika" onclick="openFullscreen()">
            <div class="gallery-info">
                <span id="imageCounter">1 / 63</span>
                <span id="imageTitle"></span>
            </div>
            <!-- Navigacijski gumbovi preko slike -->
            <button class="gallery-nav-button gallery-nav-left" onclick="prevImage()" aria-label="Prethodna slika">
                &#10094;
            </button>
            <button class="gallery-nav-button gallery-nav-right" onclick="nextImage()" aria-label="Sljedeća slika">
                &#10095;
            </button>
        </div>
        
        <!-- Mobile thumbnail toggle buttons -->
        <div class="mobile-thumbnail-controls">
            <button id="showThumbnails" class="thumbnail-toggle-btn" onclick="showThumbnails()">Prikaži sve Slike</button>
            <button id="hideThumbnails" class="thumbnail-toggle-btn" onclick="hideThumbnails()" style="display: none;">Sakrij sve Slike</button>
        </div>
        
        <div class="thumbnail-container" id="thumbnailContainer">
            <!-- Sličice se generiraju dinamički -->
        </div>
        
        <!-- Fullscreen viewer -->
        <div id="fullscreenViewer" class="fullscreen-viewer" onclick="closeFullscreen()">
            <img id="fullscreenImage" class="fullscreen-image" src="" alt="Fullscreen slika">
            <button class="fullscreen-nav-button fullscreen-nav-left" onclick="prevImageFullscreen(event)" aria-label="Prethodna slika">
                &#10094;
            </button>
            <button class="fullscreen-nav-button fullscreen-nav-right" onclick="nextImageFullscreen(event)" aria-label="Sljedeća slika">
                &#10095;
            </button>
            <button class="fullscreen-close" onclick="closeFullscreen()" aria-label="Zatvori">
                &#10006;
            </button>
            <div class="fullscreen-info">
                <span id="fullscreenCounter">1 / 63</span>
            </div>
        </div>
    </main>
    <footer>
    <div class="footer-content">
      <div class="footer-section">
        <h4>A.S. METAL BRAVARIJA</h4>
        <p>vl. Amir Saračević</p>
        <p>Obrada metala, izrada i montaža ograda, nadstrešnica, portuna, metalnih konstrukcija</p>
        <p>Vodnjan i Pula, Istra</p>
      </div>
      
      <div class="footer-section">
        <h4>Kontakt</h4>
        <p><strong>Telefon:</strong> <a href="tel:0955564468">095 556 4468</a></p>
        <p><strong>Adresa:</strong> Labinska 8, 52100 Pula</p>
        <p><strong>Županija:</strong> Istarska</p>
      </div>
      
      <div class="footer-section">
        <h4>Radno Vrijeme</h4>
        <p><strong>Ponedjeljak - Petak:</strong> 07:00 - 17:00</p>
        <p><strong>Subota i nedjelja:</strong> Zatvoreno</p>
      </div>
      
      <div class="footer-section">
        <h4>Pratite Nas</h4>
        <div class="social-links">
          <a href="https://www.facebook.com/bravarijametalis" class="fa fa-facebook" target="_blank" aria-label="Facebook"></a>
          <a href="https://g.co/kgs/Pb3Sj9W" class="fa fa-google" target="_blank" aria-label="Google"></a>
        </div>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p><span title="Izradio Matej Abramović">&copy; 2025 A.S. METAL</span></p>
    </div>
  </footer>
    
    <script>
    // Mobile thumbnail controls
    function showThumbnails() {
        const container = document.getElementById('thumbnailContainer');
        const showBtn = document.getElementById('showThumbnails');
        const hideBtn = document.getElementById('hideThumbnails');
        
        container.classList.remove('hidden');
        showBtn.style.display = 'none';
        hideBtn.style.display = 'inline-block';
    }
    
    function hideThumbnails() {
        const container = document.getElementById('thumbnailContainer');
        const showBtn = document.getElementById('showThumbnails');
        const hideBtn = document.getElementById('hideThumbnails');
        
        container.classList.add('hidden');
        showBtn.style.display = 'inline-block';
        hideBtn.style.display = 'none';
    }
    
    // Fullscreen viewer functions
    let currentImageIndex = 0;
    const totalImages = 63;
    
    function openFullscreen() {
        const viewer = document.getElementById('fullscreenViewer');
        const fullscreenImg = document.getElementById('fullscreenImage');
        const mainImg = document.getElementById('rotatingImage');
        const counter = document.getElementById('fullscreenCounter');
        
        // Get current image index from main gallery
        currentImageIndex = parseInt(document.getElementById('imageCounter').textContent.split(' / ')[0]) - 1;
        
        fullscreenImg.src = mainImg.src;
        counter.textContent = `${currentImageIndex + 1} / ${totalImages}`;
        viewer.classList.add('active');
        
        // Prevent body scrolling
        document.body.style.overflow = 'hidden';
    }
    
    function closeFullscreen() {
        const viewer = document.getElementById('fullscreenViewer');
        viewer.classList.remove('active');
        
        // Restore body scrolling
        document.body.style.overflow = 'auto';
    }
    
    function prevImageFullscreen(event) {
        event.stopPropagation();
        currentImageIndex = currentImageIndex > 0 ? currentImageIndex - 1 : totalImages - 1;
        updateFullscreenImage();
    }
    
    function nextImageFullscreen(event) {
        event.stopPropagation();
        currentImageIndex = currentImageIndex < totalImages - 1 ? currentImageIndex + 1 : 0;
        updateFullscreenImage();
    }
    
    function updateFullscreenImage() {
        const fullscreenImg = document.getElementById('fullscreenImage');
        const counter = document.getElementById('fullscreenCounter');
        const imageNumber = currentImageIndex + 1;
        
        fullscreenImg.src = `images/galerija/slika${imageNumber}.jpg`;
        counter.textContent = `${imageNumber} / ${totalImages}`;
    }
    
    // Keyboard navigation for fullscreen
    document.addEventListener('keydown', function(event) {
        const viewer = document.getElementById('fullscreenViewer');
        if (viewer.classList.contains('active')) {
            switch(event.key) {
                case 'Escape':
                    closeFullscreen();
                    break;
                case 'ArrowLeft':
                    prevImageFullscreen(event);
                    break;
                case 'ArrowRight':
                    nextImageFullscreen(event);
                    break;
            }
        }
    });
    
    // Initialize mobile controls
    document.addEventListener('DOMContentLoaded', function() {
        // Hide thumbnails by default on mobile
        if (window.innerWidth <= 768) {
            hideThumbnails();
        }
    });
    
    // Sticky navigation on scroll
    let lastScrollTop = 0;
    let ticking = false;
    const header = document.querySelector('header');

    function updateHeader() {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      
      if (scrollTop > 100) {
        header.classList.add('scrolled');
        
        if (scrollTop > lastScrollTop) {
          // Scrolling down
          header.classList.add('hide');
        } else {
          // Scrolling up
          header.classList.remove('hide');
        }
      } else {
        // At top of page
        header.classList.remove('scrolled', 'hide');
      }
      
      lastScrollTop = scrollTop;
      ticking = false;
    }

    function requestTick() {
      if (!ticking) {
        requestAnimationFrame(updateHeader);
        ticking = true;
      }
    }

    window.addEventListener('scroll', requestTick);
    </script>
    
    <!-- Mobile Menu Script -->
    <script src="scripts/mobile-menu.js"></script>
    <!-- Gallery Script -->
    <script src="scripts/gallery.js"></script>
</body>
</html>